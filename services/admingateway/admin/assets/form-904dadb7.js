import{r as U,I as f,H as w,o as n,c as a,F as y,d as _,p as h,v as S,q as r,k as A,J as E,b as l,t as m,u,x as k}from"./index-668b837b.js";const B={class:"cim-form-args"},R=["onUpdate:modelValue"],T={key:1,class:"form-control"},q={key:2,class:"form-control fs-12 mb-4"},D={class:"form-check-inline mt-6"},M=["value","onUpdate:modelValue"],j={class:"form-check-label"},z={key:3,class:"form-control mb-4 form-file-control"},H={key:4,class:"form-control mb-4 form-file-control"},L={__name:"form",props:{fields:{type:Array,required:!0},state:{type:Object},btnType:{type:Number}},emits:["save"],setup(d,{emit:F}){const b=F;let c=U({currentFile:{},currentVoIPFile:{}});const v=d,t=f(()=>v.state);f(()=>v.btnType);function V(){let{currentFile:o,currentVoIPFile:s}=c;t.value.file=o,t.value.voipFile=s,b("save",t.value)}function p(o){o.target.parentElement.childNodes[0].click()}function g(o){c.currentFile={},o.target.parentElement.childNodes[0].value=""}function C(o){c.currentVoIPFile={},o.target.parentElement.childNodes[0].value=""}function I(o){const s=o.target.files[0];c.currentFile=s}function P(o){const s=o.target.files[0];c.currentVoIPFile=s}return(o,s)=>{const x=w("n-switch");return n(),a("div",B,[(n(!0),a(y,null,_(d.fields,e=>(n(),a("div",{class:"form-floating form50",key:e.name},[e.type==="input_text"?h((n(),a("input",{key:0,type:"text",class:"form-control mb-4",placeholder:"AA","onUpdate:modelValue":i=>t.value[e.name]=i},null,8,R)),[[S,t.value[e.name]]]):r("",!0),e.type==="switch"?(n(),a("div",T,[A(x,{"checked-value":1,"unchecked-value":0,value:t.value[e.name],"onUpdate:value":i=>t.value[e.name]=i},null,8,["value","onUpdate:value"])])):r("",!0),e.type==="radios"?(n(),a("div",q,[(n(!0),a(y,null,_(e.radios,i=>(n(),a("div",D,[h(l("input",{class:"form-check-input",type:"radio",name:"radio.name",value:i.value,"onUpdate:modelValue":N=>t.value[e.name]=N},null,8,M),[[E,t.value[e.name]]]),l("label",j,m(i.label),1)]))),256))])):r("",!0),e.type==="file"?(n(),a("div",z,[l("input",{type:"file",style:{display:"none"},onChange:I},null,32),l("div",{class:k(["cim-form-name",{"mgr-1rm":t.value[e.name]}])},m(u(c).currentFile.name||t.value[e.name]),3),u(c).currentFile.name?(n(),a("div",{key:0,class:"cicon cim-form-add cim-upload cim-form-remove",onClick:g},"移除证书")):r("",!0),l("div",{class:"cicon cim-form-add cim-upload",onClick:p},"添加证书")])):r("",!0),e.type==="voipfile"?(n(),a("div",H,[l("input",{type:"file",style:{display:"none"},onChange:P},null,32),l("div",{class:k(["cim-form-name",{"mgr-1rm":t.value[e.name]}])},m(u(c).currentVoIPFile.name||t.value[e.name]),3),u(c).currentVoIPFile.name?(n(),a("div",{key:0,class:"cicon cim-form-add cim-upload cim-form-remove",onClick:C},"移除证书")):r("",!0),l("div",{class:"cicon cim-form-add cim-upload",onClick:p},"添加证书")])):r("",!0),l("label",null,m(e.label),1)]))),128)),l("div",{class:"row form100"},[l("div",{class:"offset-sm-4"},[l("div",{class:"cim-button cim-button-bg fs-12",onClick:V},"保存信息")])])])}}};export{L as _};
