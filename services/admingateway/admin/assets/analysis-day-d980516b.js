import{O as i,d as r,P as l,o as g,c as p,a as c,t as m,I as y,p as S}from"./index-a6509667.js";let M=t=>i(l.USER_DISABLE,{method:"GET",body:r.toJSON(t)}),h=t=>{let a=new URLSearchParams(t).toString(),e=`${l.ANALIYSIS_MESSAGE}?${a}`;return i(e,{method:"GET"})},E=t=>i(l.USER_DISABLE,{method:"GET",body:r.toJSON(t)}),f=t=>i(l.USER_DISABLE,{method:"GET",body:r.toJSON(t)});const C={getUserDAU:M,getMessageChat:h,getGroupChat:E,getChatroomChat:f};function _(t){let s=t*24*60*60*1e3,a=r.formatTime(Date.now(),"yyyy-MM-dd"),e=new Date(`${a} 00:00:00`).getTime()-s,o=r.formatTime(e),n=new Date(o).getTime(),u=Date.now();return{start:n,end:u}}function D(t){let{upMsgs:s,downMsgs:a,disMsgs:e}=t,o=d(s),n=d(a),u=d(e);return{upMsg:o,downMsg:n,disMsg:u}}function d(t){let s=t[0]||{count:0},a=t[1]||{count:1},e=(s.count-a.count)/a.count*100,o=!1;return e>=0&&(o=!0),{isUp:o,percent:Math.abs(e.toFixed(2)),count:r.numberWithCommas(s.count)}}function T(t){let{upMsgs:s,downMsgs:a,disMsgs:e}=t,o=r.map(s,n=>r.formatTime(n.time_mark,"yyyy-MM-dd")).reverse();return s=r.map(s,n=>n.count).reverse(),a=r.map(a,n=>n.count).reverse(),e=r.map(e,n=>n.count).reverse(),{dates:o,upMsgs:s,downMsgs:a,disMsgs:e}}const I={getRangeDate:_,calcYesterday:D,formatChatData:T},A={class:"col-sm-3 jg-asr-col"},w={class:"jg-ars-memo"},U={class:"jg-ars-num"},j={class:"jg-ars-percent"},R={__name:"analysis-day",props:["title","item"],setup(t){const s=t;return(a,e)=>(g(),p("div",A,[c("span",w,m(s.title),1),c("div",U,m(t.item.count),1),c("div",j,[e[0]||(e[0]=y(" 较前一日")),c("span",{class:S(["jgicon jg-ars-direction",[t.item.isUp?"jgicon-ac-up":"jgicon-ac-down"]])},m(t.item.percent)+"%",3)])]))}};export{C as A,R as _,I as c};
