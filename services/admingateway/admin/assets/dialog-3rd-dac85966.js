import{M as p,N as h,e as n,r as b,z as D,o as a,B as x,w as C,b as o,p as v,C as S,u as f,c as i,d as T,t as _,F as y,O as N,q as g,_ as V,K as w,h as B}from"./index-668b837b.js";function $(l={}){let{app_key:u}=l,d=`${p.R3D_TRANSLTE_GET}?app_key=${u}`;return h(d,{method:"GET"})}function A(l){return h(p.R3D_TRANSLTE_SET,{method:"POST",body:n.toJSON(l)})}function L(l={}){let{app_key:u}=l,d=`${p.R3D_RTC_GET}?app_key=${u}`;return h(d,{method:"GET"})}function O(l){return h(p.R3D_RTC_SET,{method:"POST",body:n.toJSON(l)})}const K={getTranslate:$,setTranslate:A,getRTC:L,setRTC:O},G={class:"row g-2 cim-row"},P={class:"form-floating"},q=["value"],F={key:0,class:"form-floating cim-from-must cicon cicon-must"},H=["type","onUpdate:modelValue"],M={key:1,class:"form-floating"},I=["onUpdate:modelValue"],J=["value"],Y={__name:"dialog-3rd",props:["show","title","channel","list","custom"],emits:["save","hide"],setup(l,{emit:u}){const d=B(),t=l,E=u;let m=b({channelUid:n.clone(t.channel.uid),channels:n.clone(t.list),fields:[]});function U(){let{fields:c,channelUid:r}=m;for(let e=0;e<c.length;e++){let s=c[e];if(n.isEmpty(s.value))return d.proxy.$toast({icon:"error",text:`${s.name} 不可为空`})}E("save",{uid:r,fields:n.clone(c)})}function k(c){E("hide",{})}function R(c){let r=n.map(c.children,e=>(n.isEqual(e.key,"is_used")&&(e.value=t.channel.isUsed?w.ENABLE:w.DISABLE),e));n.extend(m,{fields:n.clone(r),channelUid:c.uid})}return R(t.channel),D(()=>t.show,()=>{t.show&&R(t.channel)}),(c,r)=>(a(),x(V,{title:t.title,show:t.show,cls:"cim-r3d-dialog",onHide:k,onSave:U},{default:C(()=>[o("div",G,[o("div",null,[o("div",P,[v(o("select",{class:"form-select","onUpdate:modelValue":r[0]||(r[0]=e=>f(m).channelUid=e),disabled:!0},[(a(!0),i(y,null,T(t.list,e=>(a(),i("option",{value:e.uid},_(e.name),9,q))),256))],512),[[S,f(m).channelUid]]),o("label",null,_(t.custom),1)])]),(a(!0),i(y,null,T(f(m).fields,e=>(a(),i("div",null,[e.type=="text"||e.type=="number"?(a(),i("div",F,[v(o("input",{class:"form-control",placeholder:"placeholder",type:e.type,"onUpdate:modelValue":s=>e.value=s},null,8,H),[[N,e.value]]),o("label",null,_(e.name),1)])):g("",!0),e.type=="select"?(a(),i("div",M,[v(o("select",{class:"form-select","onUpdate:modelValue":s=>e.value=s},[(a(!0),i(y,null,T(e.children,s=>(a(),i("option",{value:s.value},_(s.label),9,J))),256))],8,I),[[S,e.value]]),o("label",null,_(e.name),1)])):g("",!0)]))),256))])]),_:1},8,["title","show"]))}};export{K as R,Y as _};
